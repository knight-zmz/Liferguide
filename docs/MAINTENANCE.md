# ç»´æŠ¤è€…æ‰‹å†Œï¼ˆMaintainer Guideï¼‰

æœ¬æ–‡æ¡£é¢å‘é¡¹ç›®ç»´æŠ¤è€…ï¼Œæä¾›æ—¥å¸¸ç»´æŠ¤ä¸é—®é¢˜å¤„ç†æŒ‡å—ã€‚

---

## ğŸ”„ æ—¥å¸¸ç»´æŠ¤ä»»åŠ¡

### æ¯å­¦æœŸå¼€å§‹
- [ ] æ›´æ–°ä¿ç ”æ—¶é—´è¡¨ï¼ˆå„é«˜æ ¡å¤ä»¤è¥ã€é¢„æ¨å…æ—¶é—´ï¼‰
- [ ] æ£€æŸ¥æ‹›ç”Ÿç®€ç« é“¾æ¥æœ‰æ•ˆæ€§
- [ ] æ”¶é›†ä¸Šä¸€å±Šç»éªŒåˆ†äº«

### æ¯å¹´ 3 æœˆ
- [ ] æ›´æ–°ä¿ç ”èµ„æ ¼æ”¿ç­–ï¼ˆå¦‚æœ‰å˜åŒ–ï¼‰
- [ ] æ›´æ–°ç ”ç©¶ç”Ÿæ‹›ç”Ÿæ”¿ç­–
- [ ] æ¸…ç†è¿‡æ—¶ä¿¡æ¯

### æŒç»­ç»´æŠ¤
- [ ] å¤„ç† Issues å’Œ PR
- [ ] å®¡æ ¸ç»éªŒåˆ†äº«å†…å®¹
- [ ] ä¿®å¤ç”¨æˆ·åé¦ˆçš„é”™è¯¯

---

## ğŸ› ï¸ æŠ€æœ¯è¯´æ˜

### è‡ªåŠ¨åŒ–æµç¨‹

**GitHub Actions å·¥ä½œæµ**ï¼ˆ`.github/workflows/build.yml`ï¼‰ï¼š

**è§¦å‘æ¡ä»¶**ï¼š
- æ¨é€åˆ° `main` æˆ– `master` åˆ†æ”¯
- ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ï¼š
  - `lifeguide.tex`ï¼ˆä¸»æ–‡æ¡£ï¼‰
  - `media/**`ï¼ˆå›¾ç‰‡èµ„æºï¼‰
  - `web/**`ï¼ˆåœ¨çº¿æ ·å¼ï¼‰
  - `.github/workflows/build.yml`ï¼ˆå·¥ä½œæµæœ¬èº«ï¼‰

**æ‰§è¡Œæ­¥éª¤**ï¼š
1. å®‰è£… TeX Live å®Œæ•´ç‰ˆ
2. ä¸¤æ¬¡ XeLaTeX ç¼–è¯‘ï¼ˆç”Ÿæˆç›®å½•å’Œé¡µç ï¼‰
3. è½¬æ¢ HTMLï¼ˆmake4ht + Python åå¤„ç†ï¼‰
4. éƒ¨ç½²åˆ° `gh-pages` åˆ†æ”¯
5. GitHub Pages è‡ªåŠ¨å‘å¸ƒ

**æŸ¥çœ‹çŠ¶æ€**ï¼š[Actions é¡µé¢](https://github.com/knight-zmz/Liferguide/actions)

### æœ¬åœ°ç¼–è¯‘è„šæœ¬

**Linux/macOS**ï¼š`build.sh`
```bash
./build.sh pdf      # ä»…ç¼–è¯‘ PDF
./build.sh html     # ä»…è½¬æ¢ HTMLï¼ˆéœ€è¦ PDF å·²å­˜åœ¨ï¼‰
./build.sh all      # PDF + HTML
./build.sh clean    # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
./build.sh help     # æŸ¥çœ‹å¸®åŠ©
```

**Windows**ï¼š`build.ps1`
```powershell
.\build.ps1 -Command pdf
.\build.ps1 -Command html
.\build.ps1 -Command all
.\build.ps1 -Command clean
```

### Web åå¤„ç†

**Python è„šæœ¬**ï¼š`web/postprocess_html.py`

**åŠŸèƒ½**ï¼š
- æå‡ç›®å½•åˆ°ä¾§è¾¹æ 
- æ³¨å…¥ tocbot åº“ï¼ˆå¯æŠ˜å ç›®å½•ï¼‰
- åº”ç”¨è‡ªå®šä¹‰ CSS
- åŒ…è£…ä¸»å†…å®¹åŒºåŸŸ

**æ ·å¼æ–‡ä»¶**ï¼š`web/lifeguide.css`
- tocbot ç›®å½•ç»„ä»¶æ ·å¼
- å“åº”å¼å¸ƒå±€
- æ‰“å°æ ·å¼ä¼˜åŒ–

---

## ğŸ“ å†…å®¹ç¼–è¾‘è§„èŒƒ

### LaTeX æ¨¡å—ç³»ç»Ÿ

æºæ–‡ä»¶ `lifeguide.tex` ä½¿ç”¨æ¨¡å—åŒ–æ³¨é‡Šï¼š

```latex
% region æ¨¡å—Xï¼šæ¨¡å—æè¿°
ä»£ç å†…å®¹...
% endregion æ¨¡å—Xï¼šæ¨¡å—æè¿°
```

**å·²æœ‰æ¨¡å—**ï¼š
- **A**ï¼šé¡µé¢ä¸å¼•æ“åŸºç¡€è®¾ç½®
- **B**ï¼šæ ¸å¿ƒåŠŸèƒ½å®åŒ…
- **C**ï¼šæ’ç‰ˆå¢å¼ºå®åŒ…
- **D**ï¼šé¢œè‰²ç³»ç»Ÿ
- **E**ï¼šå…¨å±€æ’ç‰ˆé¢„è®¾
- **F**ï¼šå›¾ç‰‡å®¹é”™æœºåˆ¶
- **G-I**ï¼šæ–‡æ¡£æ­£æ–‡éƒ¨åˆ†

**æ–°å¢æ¨¡å—**ï¼šä½¿ç”¨ J èµ·çš„å­—æ¯æ ‡è¯†

### ç»Ÿä¸€å­æ ‡é¢˜æ ¼å¼

ä½¿ç”¨ `\blocktitle{}` å®ï¼š
```latex
\blocktitle{æ ‡é¢˜å†…å®¹}
```

**ç‰¹ç‚¹**ï¼š
- ä¸ç”Ÿæˆç›®å½•æ¡ç›®
- ç»Ÿä¸€æ ·å¼ï¼ˆé¢œè‰²ã€é—´è·ï¼‰
- ä¾¿äºå…¨å±€è°ƒæ•´

### å›¾ç‰‡ç®¡ç†

**å­˜æ”¾ä½ç½®**ï¼š`media/` ç›®å½•

**å¼•ç”¨æ–¹å¼**ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ï¼š
```latex
\includegraphics[width=0.8\textwidth]{media/filename.png}
```

**å®¹é”™æœºåˆ¶**ï¼šå›¾ç‰‡ç¼ºå¤±æ—¶æ˜¾ç¤ºçº¢æ¡†å ä½ï¼Œä¸ä¸­æ–­ç¼–è¯‘

---

## ğŸ” æ•…éšœæ’æŸ¥

### ç¼–è¯‘å¤±è´¥

**ç—‡çŠ¶**ï¼šGitHub Actions æ˜¾ç¤ºçº¢è‰² âœ—

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ‰“å¼€å¤±è´¥çš„å·¥ä½œæµï¼ŒæŸ¥çœ‹æ—¥å¿—
2. å®šä½åˆ°çº¢è‰²é”™è¯¯æ­¥éª¤
3. å¸¸è§åŸå› ï¼š
   - LaTeX è¯­æ³•é”™è¯¯ï¼ˆæœªé—­åˆçš„æ‹¬å·ã€æœªå®šä¹‰çš„å‘½ä»¤ï¼‰
   - å›¾ç‰‡è·¯å¾„é”™è¯¯ï¼ˆä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–æ–‡ä»¶ä¸å­˜åœ¨ï¼‰
   - ä¸­æ–‡ç¼–ç é—®é¢˜ï¼ˆæ–‡ä»¶é UTF-8ï¼‰

**æœ¬åœ°å¤ç°**ï¼š
```bash
./build.sh pdf 2>&1 | tee build.log
# æŸ¥çœ‹ build.log æ‰¾åˆ°é”™è¯¯ä½ç½®
```

### HTML è½¬æ¢é—®é¢˜

**ç—‡çŠ¶**ï¼šPDF æ­£å¸¸ä½† HTML ç”Ÿæˆå¤±è´¥

**åŸå› **ï¼š
- tex4ht ä¸æŸäº›å®åŒ…ä¸å…¼å®¹
- å¤æ‚è¡¨æ ¼æˆ–è‡ªå®šä¹‰å‘½ä»¤

**è§£å†³æ–¹æ¡ˆ**ï¼š
- HTML è½¬æ¢å¤±è´¥ä¸å½±å“ PDF å‘å¸ƒ
- å¯é€‰æ‹©ç®€åŒ– LaTeX ä»£ç ä»¥å…¼å®¹ tex4ht
- æˆ–æ”¾å¼ƒ HTML ç‰ˆæœ¬ï¼Œä»…ä¿ç•™ PDF

### åœ¨çº¿ç›®å½•æ˜¾ç¤ºå¼‚å¸¸

**ç—‡çŠ¶**ï¼štocbot ç›®å½•å±‚çº§é”™è¯¯æˆ–ä¸æ˜¾ç¤º

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥ `web/postprocess_html.py` æ˜¯å¦æ­£ç¡®æ³¨å…¥ tocbot
2. æ£€æŸ¥ `web/lifeguide.css` ä¸­ tocbot æ ·å¼
3. æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯

**å¸¸è§é—®é¢˜**ï¼š
- HTML æ ‡é¢˜æ ‡ç­¾ (h1-h4) ç»“æ„ä¸æ­£ç¡®
- tocbot CDN é“¾æ¥å¤±æ•ˆ
- CSS é€‰æ‹©å™¨ä¸åŒ¹é…

### GitHub Pages 404

**ç—‡çŠ¶**ï¼šè®¿é—®ç½‘ç«™æ˜¾ç¤º 404

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥ `gh-pages` åˆ†æ”¯æ˜¯å¦å­˜åœ¨
2. ç¡®è®¤ Settings â†’ Pages ä¸­ Source é€‰æ‹©äº† `gh-pages`
3. ç­‰å¾… 1-2 åˆ†é’Ÿååˆ·æ–°ï¼ˆPages æœ‰éƒ¨ç½²å»¶è¿Ÿï¼‰
4. æ£€æŸ¥ `build/` ç›®å½•ç»“æ„æ˜¯å¦æ­£ç¡®

---

## ğŸ” æƒé™ä¸è®¿é—®

### GitHub Actions æƒé™

**ä½ç½®**ï¼šSettings â†’ Actions â†’ General â†’ Workflow permissions

**å¿…é¡»è®¾ç½®**ï¼š
- â˜‘ Read and write permissionsï¼ˆå…è®¸æ¨é€åˆ° gh-pagesï¼‰
- â˜‘ Allow GitHub Actions to create and approve pull requests

### GitHub Pages è®¾ç½®

**ä½ç½®**ï¼šSettings â†’ Pages

**é…ç½®**ï¼š
- **Source**ï¼šDeploy from a branch
- **Branch**ï¼š`gh-pages` / `/ (root)`

---

## ğŸ“Š ç›‘æ§ä¸ç»Ÿè®¡

### æ„å»ºçŠ¶æ€å¾½ç« 

åœ¨ README.md ä¸­æ˜¾ç¤ºï¼š
```markdown
[![Build and Deploy](https://github.com/knight-zmz/Liferguide/actions/workflows/build.yml/badge.svg)](https://github.com/knight-zmz/Liferguide/actions/workflows/build.yml)
```

### è®¿é—®ç»Ÿè®¡

GitHub é»˜è®¤ä¸æä¾› Pages è®¿é—®ç»Ÿè®¡ã€‚

**å¯é€‰æ–¹æ¡ˆ**ï¼š
- Google Analyticsï¼ˆéœ€åµŒå…¥ HTMLï¼‰
- Cloudflare Analyticsï¼ˆå¦‚ä½¿ç”¨è‡ªå®šä¹‰åŸŸï¼‰
- GitHub Insightsï¼ˆä»“åº“æµé‡ç»Ÿè®¡ï¼‰

---

## ğŸ“¦ ç‰ˆæœ¬å‘å¸ƒ

### Git Tag å‘å¸ƒ

é‡è¦ç‰ˆæœ¬å¯æ‰“ tagï¼š
```bash
git tag -a v1.0 -m "2026å­¦å¹´æ˜¥å­£å­¦æœŸç‰ˆæœ¬"
git push origin v1.0
```

### GitHub Releases

å¯é…ç½®è‡ªåŠ¨ Releaseï¼š
1. åœ¨ Actions ä¸­æ·»åŠ  create-release æ­¥éª¤
2. ä¸Šä¼ ç¼–è¯‘å¥½çš„ PDF ä½œä¸º Release é™„ä»¶
3. è‡ªåŠ¨ç”Ÿæˆ Changelog

---

## ğŸ†˜ è”ç³»æ–¹å¼

ç»´æŠ¤è€…é‡åˆ°é—®é¢˜ï¼š
- **AI åŠ©æ‰‹**ï¼šå‚è€ƒ `.github/copilot-instructions.md`
- **GitHub ç¤¾åŒº**ï¼š[Discussions](https://github.com/knight-zmz/Liferguide/discussions)ï¼ˆå¦‚å·²å¯ç”¨ï¼‰
- **ç›´æ¥è”ç³»**ï¼šçœŸçŸ¥æ£’ï¼ˆé¡¹ç›®è´Ÿè´£äººï¼‰

---

**ç»´æŠ¤æ„‰å¿«ï¼** ğŸ› ï¸  
ä¿æŒä»£ç æ•´æ´ã€æ–‡æ¡£æ›´æ–°ã€ç”¨æˆ·æ»¡æ„ã€‚
